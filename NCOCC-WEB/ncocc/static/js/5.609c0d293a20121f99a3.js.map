{"version":3,"sources":["webpack:///src/template/PC/UserCenter/roleManager.vue","webpack:///./src/template/PC/UserCenter/roleManager.vue?efa8","webpack:///./src/template/PC/UserCenter/roleManager.vue"],"names":["roleManager","data","_this","this","count","groupId","newModal","modifyModal","settingModal","total","loading","pageInfo","page","pageSize","role","id","name","modules","describer","roleNew","roleModify","ruleNew","type","required","message","trigger","ruleModify","columns1","width","align","title","key","render","h","params","props","on","click","setting","row","data1","columns2","attrs","value","on-change","val","i","moduleArr","indexOf","push","splice","data2","submenusList","mounted","getTable","axios","method","url","then","response","extend","secMenu","bind","catch","error","alert","methods","initPageInfo","initRole","initRoleNew","initRoleModify","roleSet","e","roleNewSet","roleModifySet","totalCount","pageSearch","openNewModal","sort","newOk","_this2","$refs","validate","valid","resultCode","$Message","info","resultMsg","setTimeout","$nextTick","openModifyModal","warning","modifyOk","_this3","split","data2Temp","length","settingOk","temp","cancel","change","setGroupId","del","dblclick","UserCenter_roleManager","_vm","_h","$createElement","_c","_self","staticStyle","margin","icon","$event","_v","padding","border","columns","height","on-selection-change","s","on-row-dblclick","text-align","page-size","show-elevator","show-total","mask-closable","visible","update:visible","on-ok","on-cancel","model","callback","$$v","expression","ref","rules","label-width","span","label","prop","$set","autosize","minRows","maxRows","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/5.609c0d293a20121f99a3.js","sourcesContent":["<template>\n    <div style=\"margin: 20px;\">\n        <div>\n            <ul>\n                <li>\n                    <Button type=\"primary\" icon=\"plus-round\" @click=\"openNewModal()\">新建</Button>\n                    <Button type=\"success\" icon=\"wrench\" @click=\"openModifyModal()\">修改</Button>\n                    <Button type=\"error\" icon=\"trash-a\" @click=\"del()\">删除</Button>\n                </li>\n                <li>\n                    <div style=\"padding: 10px 0;\">\n                        <Table border :columns=\"columns1\" :data=\"data1\" :height=\"400\" @on-selection-change=\"s=>{change(s)}\" @on-row-dblclick=\"s=>{dblclick(s)}\"></Table>\n                    </div> \n                </li>\n                <li>\n                    <div style=\"text-align: right;\">\n                        <Page :total=\"total\" :page-size=\"pageInfo.pageSize\" show-elevator show-total @on-change=\"e=>{pageSearch(e)}\"></Page>\n                    </div>  \n                </li>\n            </ul>\n        </div>\n        <!--添加modal-->  \n        <Modal :mask-closable=\"false\" :visible.sync=\"newModal\" :loading = \"loading\" v-model=\"newModal\" width=\"600\" title=\"新建\" @on-ok=\"newOk('roleNew')\" @on-cancel=\"cancel()\">\n            <Form ref=\"roleNew\" :model=\"roleNew\" :rules=\"ruleNew\" :label-width=\"80\" >\n                <Row>\n                    <Col span=\"12\">\n                        <Form-item label=\"角色:\" prop=\"role\">\n                            <Input v-model=\"roleNew.role\" style=\"width: 204px\"/>\n                        </Form-item>\n                    </Col>\n                    <Col span=\"12\">\n                         <Form-item label=\"角色名:\" prop=\"name\">\n                            <Input v-model=\"roleNew.name\" style=\"width: 204px\"/>\n                        </Form-item>\n                    </Col>\n                </Row>\n               \n                <Form-item label=\"描述:\" prop=\"describer\">\n                     <Input v-model=\"roleNew.describer\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\"></Input>\n                </Form-item>\n            </Form>\n        </Modal>\n        <!--修改modal-->  \n        <Modal :mask-closable=\"false\" :visible.sync=\"modifyModal\" :loading = \"loading\" v-model=\"modifyModal\" width=\"600\" title=\"修改\" @on-ok=\"modifyOk('roleModify')\" @on-cancel=\"cancel()\">\n            <Form ref=\"roleModify\" :model=\"roleModify\" :rules=\"ruleModify\" :label-width=\"80\" >\n                <Row>\n                    <Col span=\"12\">\n                        <Form-item label=\"角色:\" prop=\"role\">\n                            <Input v-model=\"roleModify.role\" style=\"width: 204px\" disabled=\"disabled\"/>\n                        </Form-item>\n                    </Col>\n                    <Col span=\"12\">\n                         <Form-item label=\"角色名:\" prop=\"name\">\n                            <Input v-model=\"roleModify.name\" style=\"width: 204px\"/>\n                        </Form-item>\n                    </Col>\n                </Row>\n                <!-- <Form-item label=\"角色名:\" prop=\"name\">\n                            <Input v-model=\"roleModify.name\" style=\"width: 204px\"/>\n                        </Form-item> -->\n                <Form-item label=\"描述:\" prop=\"describer\">\n                     <Input v-model=\"roleModify.describer\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\"></Input>\n                </Form-item>\n            </Form>\n        </Modal>\n        <!-- 配置权限 -->\n        <Modal v-model=\"settingModal\"  width=\"500\" title=\"配置权限\" @on-ok=\"settingOk()\" @on-cancel=\"cancel()\" :mask-closable=\"false\">\n            <Row>\n                <Col span=\"24\"><Table border :columns=\"columns2\" :data=\"data2\"></Table></Col>\n            </Row>\n        </Modal>\n    </div>\n</template>\n<script>\n    import 'iview/dist/styles/iview.css';\n    export default {\n        data () {\n            return {\n                /*选择的数量*/\n                count:null,\n                /*选中的组数据*/\n                groupId:null,\n                /*新建modal的显示参数*/\n                newModal:false,\n                /*修改modal的显示参数*/\n                modifyModal:false,\n                /*权限modal的显示参数*/\n                settingModal:false,\n                /*分页total属性绑定值*/\n                total:0,\n                /*loading*/\n                loading: true,\n                /*pageInfo实体*/\n                pageInfo:{\n                    page:1,\n                    pageSize:10\n                },\n                /*role实体*/\n                role:{                             \n                    id:null,\n                    role:null,\n                    name:null,\n                    modules:null,\n                    describer:null\n                },\n                /*用于添加的role实体*/\n                roleNew:{\n                    id:null,\n                    role:null,\n                    name:null,\n                    modules:null,\n                    describer:null\n                },\n                /*用于修改的role实体*/\n                roleModify:{\n                    id:null,\n                    role:null,  \n                    name:null,\n                    modules:null,\n                    describer:null\n                },\n                /*新建验证*/\n                ruleNew:{\n                    role: [\n                        { type:'string',required: true, message: '输入角色', trigger: 'blur' }\n                    ],\n                    name: [\n                        { type:'string',required: true, message: '输入角色名', trigger: 'blur' }\n                    ]\n                },\n                /*修改验证*/\n                ruleModify:{\n                    role: [\n                        { type:'string',required: true, message: '输入角色', trigger: 'blur' }\n                    ],\n                    name: [\n                        { type:'string',required: true, message: '输入角色名', trigger: 'blur' }\n                    ]\n                },\n                /*表显示字段*/\n                columns1: [\n                    {\n                        type: 'selection',\n                        width: 60,\n                        align: 'center'\n                    },\n                    {\n                        title: '角色',\n                        key: 'role'\n                    },\n                    {\n                        title: '角色名',\n                        key: 'name'\n                    },\n                    {\n                        title: '描述',\n                        key: 'describer'\n                    },\n                    {   title: '操作', \n                        key: 'action', \n                        width: 180, \n                        align: 'center', \n                        render: (h, params) => { \n                            return h('div', [ h('Button', \n                                { \n                                    props: {\n                                        type: 'info',\n                                    }, \n                                    on: { \n                                        click: () => { \n                                            this.setting(params.row);\n                                        } \n                                    } \n                                }, '配置权限') \n                            ]); \n                        } \n                    }\n                ],\n                /*表数据*/\n                data1: [],\n                /*表显示字段*/\n                columns2: [\n                    {\n                        title: '权限',\n                        key: 'name'\n                    },\n                    {\n                        title: '操作',\n                        align: 'center',\n                        render: (h, params) => {\n                            return h('div',[\n                                h('i-switch',{\n                                    attrs:{\n                                        'value' : params.row.value \n                                    },\n                                    on:{\n                                        'on-change':(val)=>{\n                                            var i = this.moduleArr.indexOf(params.row.id+'');\n                                            if(val){\n                                                if(i == -1){\n                                                    this.moduleArr.push(params.row.id+'');\n                                                }\n                                            }else{\n                                                if(i != -1){\n                                                    this.moduleArr.splice(i,1);\n                                                }\n                                            }\n                                        }\n                                    }\n                                })\n                            ]);\n                        }\n                    }\n                ],\n                /*表数据*/\n                data2: [],\n                /*临时存储权限的数组*/\n                moduleArr:[],\n                /*二级菜单列表*/\n                submenusList:[]\n            }\n        },\n        mounted(){\n            /*页面初始化调用方法*/\n            this.getTable({\n                \"pageInfo\":this.pageInfo\n            });\n            this.axios({\n              method: 'get',\n              url: '/api/menuManger/getAllSecMenu.do'\n            }).then(function (response) {\n                this.submenusList = response.data.extend.secMenu;\n            }.bind(this)).catch(function (error) {\n              alert(error);\n            });\n        },\n        methods:{\n            /*pageInfo实体初始化*/\n            initPageInfo(){\n                this.pageInfo.page = 1;\n                this.pageInfo.pageSize = 10;\n            },\n            /*role实体初始化*/\n            initRole(){\n                this.role.id = null;\n                this.role.role = null;\n                this.role.name = null;\n                this.role.modules = null;\n                this.role.describer = null;\n            },\n            /*roleNew实体初始化*/\n            initRoleNew(){\n                this.roleNew.id = null;\n                this.roleNew.role = null;\n                this.roleNew.name = null;\n                this.roleNew.modules = null;\n                this.roleNew.describer = null;\n            },\n            /*roleModify实体初始化*/\n            initRoleModify(){\n                this.roleModify.id = null;\n                this.roleModify.role = null;\n                this.roleModify.name = null;\n                this.roleModify.modules = null;\n                this.roleModify.describer = null;\n            },\n            /*roleNew设置*/\n            roleSet(e){\n                this.role.id = e.id;\n                this.role.role = e.role;\n                this.role.name = e.name;\n                this.role.modules = e.modules;\n                this.role.describer = e.describer;\n            },\n            /*roleNew设置*/\n            roleNewSet(e){\n                this.roleNew.id = e.id;\n                this.roleNew.role = e.role;\n                this.roleNew.name = e.name;\n                this.roleNew.modules = e.modules;\n                this.roleNew.describer = e.describer;\n            },\n            /*roleModify设置*/\n            roleModifySet(e){\n                this.roleModify.id = e.id;\n                this.roleModify.role = e.role;\n                this.roleModify.name = e.name;\n                this.roleModify.modules = e.modules;\n                this.roleModify.describer = e.describer;\n            },\n            /*得到表数据*/\n            getTable(e) {\n                this.axios({\n                  method: 'get',\n                  url: '/api/roleManger/getAllRolesForPage.do',\n                  params: {\n                    'page':e.pageInfo.page,\n                    'pageSize':e.pageInfo.pageSize\n                  }\n                }).then(function (response) {\n                    this.data1=response.data.extend.role;\n                    this.total=response.data.extend.totalCount;\n                }.bind(this)).catch(function (error) {\n                  alert(error);\n                });\n            },\n            /*分页点击事件*/\n            pageSearch(e){\n                this.pageInfo.page = e;\n                this.getTable({  \n                    \"pageInfo\":this.pageInfo\n                });\n            },\n            /*新建点击触发事件*/\n            openNewModal(){\n                this.newModal = true;\n                this.initRoleNew();\n                this.data1.sort();\n                this.count = 0;\n                this.groupId = null;\n            },\n            /*新建modal的newOk点击事件*/\n            newOk (roleNew) { \n                this.$refs[roleNew].validate((valid) => {\n                    if (valid) {\n                        this.initRole();\n                        this.roleSet(this.roleNew);\n                        this.axios({\n                            method: 'post',\n                            url: '/api/roleManger/saveRole.do',\n                            data: this.role\n                        }).then(function (response) {\n                            this.initRoleNew();\n                            if(response.data.resultCode == 200){\n                                this.getTable({\n                                \"pageInfo\":this.pageInfo\n                                });\n                                this.$Message.info('添加成功');\n                            }else {\n                                this.$Message.error(response.data.resultMsg);\n                            }\n                        }.bind(this)).catch(function (error) {\n                            alert(error);\n                        });  \n                        this.newModal = false;\n                    }else {\n                        setTimeout(() => {\n                            this.loading = false;\n                            this.$nextTick(() => {\n                                this.loading = true;\n                            });\n                        }, 1000);\n                    }\n                })\n            },\n            /*点击修改时判断是否只选择一个*/\n            openModifyModal(){\n                if(this.count > 1 || this.count < 1){\n                    this.modifyModal= false; \n                    this.$Message.warning('请至少选择一项(且只能选择一项)');  \n                }else{\n                    this.modifyModal = true;\n                }\n            },\n            /*修改modal的modifyOk点击事件*/\n             modifyOk (roleModify) { \n                this.$refs[roleModify].validate((valid) => {\n                    if (valid) {\n                        this.initRole();\n                        this.roleSet(this.roleModify);\n                        this.axios({\n                          method: 'post',\n                          url: '/api/roleManger/modifyRole.do',\n                          data: this.role\n                        }).then(function (response) {\n                            this.initRoleModify();\n                            if(response.data.resultCode == 200){\n                                this.getTable({\n                                \"pageInfo\":this.pageInfo\n                                });\n                                this.$Message.info('修改成功');\n                            }else{\n                                this.$Message.error(response.data.resultMsg);\n                            }\n                            \n                        }.bind(this)).catch(function (error) {\n                          alert(error);\n                        });  \n                        this.modifyModal = false;\n                    }else {\n                        /*this.$Message.error('表单验证失败!');*/\n                        setTimeout(() => {\n                            this.loading = false;\n                            this.$nextTick(() => {\n                                this.loading = true;\n                            });\n                        }, 1000);\n                    }\n                })\n            },\n            /*表格中按钮点击事件*/\n            setting(e){\n                this.data1.sort();\n                this.settingModal = true;\n                this.roleModifySet(e);\n                if(e.modules == null || e.modules == ''){\n                    this.moduleArr = [];\n                }else{\n                    this.moduleArr = e.modules.split(\";\");\n                }\n                var data2Temp = [];\n                for (var i = 0; i < this.submenusList.length; i++) {\n                    if(this.moduleArr.indexOf(this.submenusList[i].id+'') == -1){\n                        data2Temp.push({\n                            'id': this.submenusList[i].id,\n                            'name': this.submenusList[i].name,\n                            'value': false\n                        });\n                    }else{\n                        data2Temp.push({\n                            'id': this.submenusList[i].id,\n                            'name': this.submenusList[i].name,\n                            'value': true\n                        });\n                    }\n                }\n                this.data2 = data2Temp;\n            },\n            /*配置权限的settingOk点击事件*/\n            settingOk(){\n                var temp = \"\";\n                for(var i in this.moduleArr){\n                    if(this.moduleArr[i] != '' && this.moduleArr != null){\n                        temp = temp + this.moduleArr[i]+\";\";\n                    }\n                }\n                this.roleModify.modules = temp;\n                this.initRole();\n                this.roleSet(this.roleModify);\n                this.axios({\n                  method: 'post',\n                  url: '/api/roleManger/menuConfigure.do',\n                  data: this.role\n                }).then(function (response) {\n                    this.initRoleModify();\n                    if(response.data.resultCode == 200){\n                        this.getTable({\n                        \"pageInfo\":this.pageInfo\n                        });\n                        this.$Message.info('配置成功');\n                    }else{\n                        this.$Message.error(response.data.resultMsg);\n                    }\n                    \n                }.bind(this)).catch(function (error) {\n                  alert(error);\n                });\n            },\n            /*modal的cancel点击事件*/\n            cancel () {\n                /*this.$Message.info('点击了取消');*/\n            },\n            /*table选择后触发事件*/\n            change(e){\n                if(e.length==1){\n                    this.roleModifySet(e['0']);\n                }\n                this.setGroupId(e);              \n            },\n            /*通过选中的行设置groupId的值*/\n            setGroupId(e){\n                this.groupId=[];\n                this.count=e.length;\n                for (var i = 0; i <= e.length - 1; i++) {\n                    this.groupId.push(e[i].id);\n                }\n            },\n            /*删除table中选中的数据*/\n            del(){\n                if(this.groupId!=null && this.groupId!=\"\"){\n                    this.axios({\n                      method: 'post',\n                      url: '/api/roleManger/deleteRole.do',\n                      data: this.groupId\n                    }).then(function (response) {\n                        this.groupId=null;\n                        this.count=0;\n                        if(response.data.resultCode == 200){\n                            this.getTable({\n                            \"pageInfo\":this.pageInfo\n                            });\n                            this.$Message.info('删除成功');\n                        }else{\n                            //iView.Message.error('添加失败');\n                            this.$Message.error(response.data.resultMsg);\n                        }\n                    }.bind(this)).catch(function (error) {\n                        alert(error);\n                    });\n                }else{\n                    this.$Message.warning('请至少选择一项删除');\n                }\n            },\n            /*表格中双击事件*/\n            dblclick(e){\n                this.roleModifySet(e);\n                this.modifyModal = true;\n                this.data1.sort();\n            }\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/template/PC/UserCenter/roleManager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"20px\"}},[_c('div',[_c('ul',[_c('li',[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"plus-round\"},on:{\"click\":function($event){return _vm.openNewModal()}}},[_vm._v(\"新建\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"success\",\"icon\":\"wrench\"},on:{\"click\":function($event){return _vm.openModifyModal()}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"icon\":\"trash-a\"},on:{\"click\":function($event){return _vm.del()}}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('li',[_c('div',{staticStyle:{\"padding\":\"10px 0\"}},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns1,\"data\":_vm.data1,\"height\":400},on:{\"on-selection-change\":function (s){_vm.change(s)},\"on-row-dblclick\":function (s){_vm.dblclick(s)}}})],1)]),_vm._v(\" \"),_c('li',[_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":_vm.pageInfo.pageSize,\"show-elevator\":\"\",\"show-total\":\"\"},on:{\"on-change\":function (e){_vm.pageSearch(e)}}})],1)])])]),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false,\"visible\":_vm.newModal,\"loading\":_vm.loading,\"width\":\"600\",\"title\":\"新建\"},on:{\"update:visible\":function($event){_vm.newModal=$event},\"on-ok\":function($event){return _vm.newOk('roleNew')},\"on-cancel\":function($event){return _vm.cancel()}},model:{value:(_vm.newModal),callback:function ($$v) {_vm.newModal=$$v},expression:\"newModal\"}},[_c('Form',{ref:\"roleNew\",attrs:{\"model\":_vm.roleNew,\"rules\":_vm.ruleNew,\"label-width\":80}},[_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Form-item',{attrs:{\"label\":\"角色:\",\"prop\":\"role\"}},[_c('Input',{staticStyle:{\"width\":\"204px\"},model:{value:(_vm.roleNew.role),callback:function ($$v) {_vm.$set(_vm.roleNew, \"role\", $$v)},expression:\"roleNew.role\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Form-item',{attrs:{\"label\":\"角色名:\",\"prop\":\"name\"}},[_c('Input',{staticStyle:{\"width\":\"204px\"},model:{value:(_vm.roleNew.name),callback:function ($$v) {_vm.$set(_vm.roleNew, \"name\", $$v)},expression:\"roleNew.name\"}})],1)],1)],1),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":\"描述:\",\"prop\":\"describer\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5}},model:{value:(_vm.roleNew.describer),callback:function ($$v) {_vm.$set(_vm.roleNew, \"describer\", $$v)},expression:\"roleNew.describer\"}})],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false,\"visible\":_vm.modifyModal,\"loading\":_vm.loading,\"width\":\"600\",\"title\":\"修改\"},on:{\"update:visible\":function($event){_vm.modifyModal=$event},\"on-ok\":function($event){return _vm.modifyOk('roleModify')},\"on-cancel\":function($event){return _vm.cancel()}},model:{value:(_vm.modifyModal),callback:function ($$v) {_vm.modifyModal=$$v},expression:\"modifyModal\"}},[_c('Form',{ref:\"roleModify\",attrs:{\"model\":_vm.roleModify,\"rules\":_vm.ruleModify,\"label-width\":80}},[_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Form-item',{attrs:{\"label\":\"角色:\",\"prop\":\"role\"}},[_c('Input',{staticStyle:{\"width\":\"204px\"},attrs:{\"disabled\":\"disabled\"},model:{value:(_vm.roleModify.role),callback:function ($$v) {_vm.$set(_vm.roleModify, \"role\", $$v)},expression:\"roleModify.role\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Form-item',{attrs:{\"label\":\"角色名:\",\"prop\":\"name\"}},[_c('Input',{staticStyle:{\"width\":\"204px\"},model:{value:(_vm.roleModify.name),callback:function ($$v) {_vm.$set(_vm.roleModify, \"name\", $$v)},expression:\"roleModify.name\"}})],1)],1)],1),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":\"描述:\",\"prop\":\"describer\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5}},model:{value:(_vm.roleModify.describer),callback:function ($$v) {_vm.$set(_vm.roleModify, \"describer\", $$v)},expression:\"roleModify.describer\"}})],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"width\":\"500\",\"title\":\"配置权限\",\"mask-closable\":false},on:{\"on-ok\":function($event){return _vm.settingOk()},\"on-cancel\":function($event){return _vm.cancel()}},model:{value:(_vm.settingModal),callback:function ($$v) {_vm.settingModal=$$v},expression:\"settingModal\"}},[_c('Row',[_c('Col',{attrs:{\"span\":\"24\"}},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns2,\"data\":_vm.data2}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-743058da\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/template/PC/UserCenter/roleManager.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./roleManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./roleManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-743058da\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./roleManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/template/PC/UserCenter/roleManager.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}