webpackJsonp([8],{"+skl":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=n("BTaQ"),a=n.n(o),u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},staticRenderFns:[]},i=n("VU/8")({data:function(){return{}},mounted:function(){},beforeDestroy:function(){},methods:{}},u,!1,null,null,null).exports,c=n("//Fk"),s=n.n(c),l=n("mtWM"),d=n.n(l),f=n("NYxO"),m={namespaced:!0,state:{currentUser:{get UserName(){return localStorage.getItem("currentUser_name")},get UserToken(){return localStorage.getItem("currentUser_token")}}},mutations:{setUser:function(e,t){var n=t.user_name,r=t.user_token;localStorage.setItem("currentUser_name",n),localStorage.setItem("currentUser_token",r)},clearUser:function(e){localStorage.clear()}},actions:{userLogin:function(e,t){var n=t.user_name,r=t.user_password,o=t.router;d()({method:"post",url:"/api/userManger/login.do",data:{loginName:n,password:r}}).then(function(t){200==t.data.resultCode?(e.commit("setUser",{user_name:n,user_token:t.data.extend.access_token}),d.a.defaults.headers.common.Authorization="bearer "+localStorage.getItem("currentUser_token"),o.push({path:"/index"})):a.a.Message.error(t.data.resultMsg)}).catch(function(e){a.a.Message.error("未知错误!")})},loginOut:function(e,t){t.router.push({path:"/login"}),e.commit("clearUser")}}};r.default.use(f.a);var h=new f.a.Store({modules:{users:m},state:{todos:[{id:1,text:"...",done:!0},{id:2,text:"...",done:!1}],domainName:"http://127.0.0.1:8088",count:0,ifSign:!1,loginErrorCode:200},getters:{doneTodos:function(e){return e},doneTodosCount:function(e,t){return t},getTodoById:function(e){return function(t){return e.todos.find(function(e){return e.id===t})}},getSign:function(e){return e.ifSign},_isMobile:function(){return navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},getLoginErrorCode:function(e){return e.loginErrorCode}},mutations:{add:function(e){e.count++},increment:function(e,t){e.count+=t},setSignTrue:function(e){e.ifSign=!0},setSignFalse:function(e){e.ifSign=!1},setLoginErrorCode:function(e,t){e.loginErrorCode=t}},actions:{increment:function(e){e.commit("add")}}}),p=n("/ocq"),g={title:function(e){e=e||"iView project",window.document.title=e}};g.ajax=d.a.create({baseURL:"https://www.url.com",timeout:3e4});var w=g;r.default.use(p.a);var b={mode:"history",base:"/ncocc",routes:[{path:"/",meta:{title:"首页"},component:function(e){return n.e(0).then(function(){var t=[n("W4St")];e.apply(null,t)}.bind(this)).catch(n.oe)},children:[{path:"",name:"welcome",component:function(e){return n.e(1).then(function(){var t=[n("F86X")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"欢迎"}}]},{path:"/login",meta:{title:"登录"},component:function(e){return n.e(3).then(function(){var t=[n("6VvU")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/index",meta:{title:"首页"},component:function(e){return n.e(0).then(function(){var t=[n("W4St")];e.apply(null,t)}.bind(this)).catch(n.oe)},children:[{path:"",name:"welcome",component:function(e){return n.e(1).then(function(){var t=[n("F86X")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"欢迎"}},{path:"/userManager",name:"userManager",component:function(e){return n.e(4).then(function(){var t=[n("7syt")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"用户管理"}},{path:"/menuManager",name:"menuManager",component:function(e){return n.e(2).then(function(){var t=[n("MVjl")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"菜单管理"}},{path:"/roleManager",name:"roleManager",component:function(e){return n.e(5).then(function(){var t=[n("faMj")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"角色管理"}},{path:"/waybillManager",name:"waybillManager",component:function(e){return n.e(6).then(function(){var t=[n("3XEl")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"运单管理"}}]}]},S=new p.a(b);S.beforeEach(function(e,t,n){var r=window.localStorage.getItem("currentUser_token");!e.matched.some(function(e){return e.meta.requiresAuth})||r&&null!==r||n({path:"/",query:{redirect:e.fullPath}}),a.a.LoadingBar.start(),w.title(e.meta.title),n()}),S.afterEach(function(){a.a.LoadingBar.finish(),window.scrollTo(0,0)});var U=S;d.a.defaults.timeout=1e4,d.a.defaults.headers.post["Content-Type"]="application/json",null==localStorage.getItem("currentUser_token")||""==localStorage.getItem("currentUser_token")?d.a.defaults.headers.common.Authorization="":d.a.defaults.headers.common.Authorization="bearer "+localStorage.getItem("currentUser_token"),d.a.defaults.baseURL="/",d.a.interceptors.request.use(function(e){return null!=localStorage.getItem("currentUser_token")&&""!=localStorage.getItem("currentUser_token")||(e.headers.Authorization="token "+h.state.token,U.replace({path:"/login",query:{redirect:U.currentRoute.fullPath}})),e},function(e){return s.a.reject(e)}),d.a.interceptors.response.use(function(e){return e},function(e){if(e.response)switch(e.response.status){case 401:h.commit("users/clearUser"),U.replace({path:"/login",query:{redirect:U.currentRoute.fullPath}});break;case 403:U.replace({path:"/",query:{redirect:U.currentRoute.fullPath}})}return s.a.reject("")});var v=d.a,y=n("Rf8U"),_=n.n(y),M=n("G0J2"),k=n.n(M);n("XRwP"),n("fljr"),n("+skl");r.default.prototype.$Message=o.Message,r.default.use(_.a,v),r.default.use(a.a),r.default.use(k.a),new r.default({el:"#app",router:U,store:h,render:function(e){return e(i)}})},XRwP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.038eb13fe667b5b5b7bb.js.map